<?xml version="1.0" encoding="utf-8" ?>
<Patch>

	<Operation Class="PatchOperationFindMod">
		<mods>
			<li>A Dog Said... Animal Prosthetics</li>
		</mods>

		<match Class="PatchOperationSequence">
			<operations>


				<li Class="PatchOperationAdd">

					<xpath>/Defs/RecipeDef[@Name = "OldWoundsAnimal"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>



					</value>
				</li>

				<!-- Organ installing recipes == should be most animals -->
				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicAnimalStomach surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicAnimalStomach"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>

					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicAnimalKidney surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicAnimalKidney"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicAnimalLiver surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicAnimalLiver"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicAnimalLung surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicAnimalLung"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicAnimalHeart surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicAnimalHeart"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallAnimalBrainStimulator surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallAnimalBrainStimulator"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallSpineAnimalBionic surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallSpineAnimalBionic" or defName ="InstallSpineAnimalSimple"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>					
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>						
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>


					</value>
				</li>



				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallJawAnimalBionic surgery <recipeUsers> -->
					<xpath>/Defs/RecipeDef[defName = "InstallJawAnimalBionic" or defName ="InstallJawAnimalSimple"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>




				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallNoseAnimalSimple surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallNoseAnimalSimple"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallBionicEyeAnimal surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallBionicEyeAnimal"]/recipeUsers</xpath>
					<value>
						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>
						<li>MM_Salamander</li>
						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>
						<li>MM_Basilisk</li>
						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>
						<li>MM_Tlilcoatl</li>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallEarAnimalSimple surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallEarAnimalSimple" or defName ="InstallEarAnimalBionic"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>

						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>

						<li>MM_LesserWyvern</li>

					</value>
				</li>




				<!-- Leg installing recipes == should be most animals -->
				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallPegLegAnimal surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallPegLegAnimal" or defName ="InstallSimpleProstheticLegAnimal" or defName ="InstallBionicLegAnimal"]/recipeUsers</xpath>
					<value>

						<li>MM_Ahuizotl</li>
						<li>MM_Chimera</li>
						<li>MM_ErymanthianBoar</li>
						<li>MM_Griffin</li>
						<li>MM_Kitsune</li>
						<li>MM_LernaeanHydra</li>
						<li>MM_Manticore</li>
						<li>MM_Pegasus</li>
						<li>MM_Qilin</li>
						<li>MM_Unicorn</li>
						<li>MM_WildMinotaur</li>
						<li>MM_Catoblepas</li>
						<li>MM_Cerberus</li>
						<li>MM_CeryneianHind</li>
						<li>MM_Phoenix</li>

						<li>MM_Kappa</li>
						<li>MM_Xiezhi</li>
						<li>MM_Fenghuang</li>

						<li>MM_Ieltxu</li>
						<li>MM_LesserWyvern</li>


					</value>
				</li>








				<!-- Tail installing recipe == Only for animal with tail-->
				<li Class="PatchOperationAdd">
					<!-- "Inserting animal defNames into InstallSimpleProstheticTailAnimal surgery <recipeUsers>" -->
					<xpath>/Defs/RecipeDef[defName = "InstallSimpleProstheticTailAnimal"]/recipeUsers</xpath>
					<value>



						<li>MM_Kitsune</li>

						<li>MM_Manticore</li>

						<li>MM_Cerberus</li>




					</value>
				</li>

				<li Class="PatchOperationFindMod">
					<mods>
						<li>Alpha Animals</li>
					</mods>

					<nomatch Class="PatchOperationSequence">
						<success>Always</success>
						<operations>
							<li Class="PatchOperationAdd"> 
								<success>Always</success>
								<xpath>/Defs</xpath>
								<value>
									<ResearchProjectDef>
										<defName>VEF_ExoticProsthetics</defName>
										<label>Exotic Animal Prosthetics</label>
										<description>Learn to use and craft exotic animal prosthetics to replace such things as tentacles, wings, echolocation organs and so on</description>
										<baseCost>500</baseCost>
										<techLevel>Industrial</techLevel>
										<researchViewX>2</researchViewX>
										<researchViewY>2</researchViewY>
										<prerequisites>
											<li>SimpleAnimalProsthetics</li>
										</prerequisites>
										<tab>ADogSaid</tab>
									</ResearchProjectDef>
									<ResearchProjectDef>
										<defName>VEF_ExoticBionics</defName>
										<label>Exotic Animal Bionics</label>
										<description>Learn to use and craft exotic bionics to create bionic tentacles, wings, echolocation organs, etc</description>
										<baseCost>1000</baseCost>
										<techLevel>Spacer</techLevel>
										<researchViewX>2</researchViewX>
										<researchViewY>3</researchViewY>
										<prerequisites>
											<li>AnimalBionics</li>
										</prerequisites>
										<requiredResearchBuilding>HiTechResearchBench</requiredResearchBuilding>
										<tab>ADogSaid</tab>
									</ResearchProjectDef>
									<ResearchProjectDef>
										<defName>VEF_AdvancedAnimalImplants</defName>
										<label>Advanced Animal Implants</label>
										<description>Learn to extract certain abilities from animals and implant them in others. Ranged animal attacks can also be implanted in a different animal</description>
										<baseCost>2500</baseCost>
										<techLevel>Spacer</techLevel>
										<researchViewX>2</researchViewX>
										<researchViewY>4</researchViewY>
										<prerequisites>
											<li>AnimalBionics</li>
											<li>VEF_ExoticBionics</li>
										</prerequisites>
										<requiredResearchBuilding>HiTechResearchBench</requiredResearchBuilding>
										<tab>ADogSaid</tab>
									</ResearchProjectDef>
									<ThingDef ParentName="BenchBaseADS">
										<defName>VEF_AdvancedAnimalImplantsTable</defName>
										<label>advanced animal prosthetics table</label>
										<thingClass>Building_WorkTable</thingClass>
										<description>Allows you to extract certain abilities from animals and implant them in others. Ranged animal attacks can also be implanted in a different animal</description>
										<graphicData>
											<texPath>Things/Building/VEF_AdvancedAnimalImplantsTable</texPath>
											<graphicClass>Graphic_Multi</graphicClass>
											<drawSize>(2.33,1.5)</drawSize>
											<damageData>
												<cornerTL>Damage/Corner</cornerTL>
												<cornerTR>Damage/Corner</cornerTR>
												<cornerBL>Damage/Corner</cornerBL>
												<cornerBR>Damage/Corner</cornerBR>
											</damageData>
										</graphicData>
										<size>(2,1)</size>
										<costList>
											<Steel>200</Steel>								
											<ComponentSpacer>5</ComponentSpacer>
										</costList>
										<altitudeLayer>Building</altitudeLayer>
										<fillPercent>0.5</fillPercent>
										<useHitPoints>True</useHitPoints>
										<statBases>
											<WorkToBuild>7500</WorkToBuild>
											<MaxHitPoints>300</MaxHitPoints>
											<Flammability>0</Flammability>
											<Cleanliness>-2</Cleanliness>
										</statBases>
										<designationCategory>Production</designationCategory>
										<passability>PassThroughOnly</passability>
										<pathCost>70</pathCost>
										<hasInteractionCell>True</hasInteractionCell>
										<interactionCellOffset>(0,0,-1)</interactionCellOffset>
										<surfaceType>Item</surfaceType>
										<inspectorTabs>
											<li>ITab_Bills</li>
										</inspectorTabs>
										<building>
											<spawnedConceptLearnOpportunity>BillsTab</spawnedConceptLearnOpportunity>
										</building>
										<researchPrerequisites>
											<li>Electricity</li>
											<li>VEF_AdvancedAnimalImplants</li>
										</researchPrerequisites>
										<comps>
											<li Class="CompProperties_Power">
												<compClass>CompPowerTrader</compClass>
												<shortCircuitInRain>true</shortCircuitInRain>
												<basePowerConsumption>150</basePowerConsumption>
											</li>
											<li Class="CompProperties_AffectedByFacilities">
												<linkableFacilities>
													<li>ToolCabinet</li>
												</linkableFacilities>
											</li>
											<li Class="CompProperties_Flickable"/>
											<li Class="CompProperties_Breakdownable"/>
										</comps>
										<placeWorkers>
											<li>PlaceWorker_ShowFacilitiesConnections</li>
										</placeWorkers>
										<constructionSkillPrerequisite>8</constructionSkillPrerequisite>
									</ThingDef>
									<ThingDef Name="VEF_BodyPartProstheticBaseADS" ParentName="BodyPartProstheticBaseADS" Abstract="True">
										<recipeMaker>
											<researchPrerequisite>VEF_ExoticProsthetics</researchPrerequisite>
										</recipeMaker>
									</ThingDef>
									<ThingDef Name="VEF_BodyPartBionicBaseADS" ParentName="BodyPartBionicBaseADS" Abstract="True">
										<recipeMaker>
											<researchPrerequisite>VEF_ExoticBionics</researchPrerequisite>
										</recipeMaker>
									</ThingDef>
									<ThingDef Name="VEF_AdvancedBaseADS" ParentName="BodyPartArtificialBaseADS" Abstract="True">

										<graphicData>
											<texPath>Things/Item/VEF_AnimalBodyPart_ranged</texPath>
											<graphicClass>Graphic_Single</graphicClass>
											<drawSize>0.80</drawSize>
										</graphicData>

									</ThingDef>
									<WorkGiverDef>
										<defName>VEF_DoBillsAdvancedAnimalImplantsTable</defName>
										<label>make advanced animal implants</label>
										<giverClass>WorkGiver_DoBill</giverClass>
										<workType>Crafting</workType>
										<priorityInType>85</priorityInType>
										<fixedBillGiverDefs>
											<li>VEF_AdvancedAnimalImplantsTable</li>
										</fixedBillGiverDefs>
										<verb>make advanced animal implants</verb>
										<gerund>making advanced animal implants at</gerund>
										<requiredCapacities>
											<li>Manipulation</li>
										</requiredCapacities>
										<prioritizeSustains>true</prioritizeSustains>
									</WorkGiverDef>
									<RecipeDef Name="VEF_AdvancedSurgeryInstallImplantBase" ParentName="SurgeryFlesh" Abstract="True">
										<workerClass>Recipe_InstallImplant</workerClass>
										<workAmount>2500</workAmount>
										<skillRequirements>
											<Medicine>8</Medicine>
										</skillRequirements>

										<ingredients>
											<li>
												<filter>
													<categories>
														<li>Medicine</li>
													</categories>
												</filter>
												<count>5</count>
											</li>
										</ingredients>
										<fixedIngredientFilter>
											<categories>
												<li>Medicine</li>
											</categories>
										</fixedIngredientFilter>
									</RecipeDef>
									<BodyPartDef>
										<defName>AA_JellyfishMainBody</defName>
										<label>hood</label>
										<hitPoints>30</hitPoints>
										<skinCovered>true</skinCovered>
										<tags>
											<li>MovingLimbCore</li>
										</tags>
									</BodyPartDef>
									<BodyPartDef>
										<defName>AA_Protoplasm</defName>
										<label>protoplasm</label>
										<hitPoints>30</hitPoints>
										<skinCovered>true</skinCovered>
										<tags>
											<li>MovingLimbCore</li>
											<li>BloodPumpingSource</li>
											<li>BloodFiltrationSource</li>
											<li>MetabolismSource</li>
											<li>BreathingSource</li>
										</tags>
									</BodyPartDef>
									<BodyPartDef>
										<defName>AA_Thorax</defName>
										<label>thorax</label>
										<hitPoints>60</hitPoints>
										<frostbiteVulnerability>0.8</frostbiteVulnerability>
										<skinCovered>false</skinCovered>
									</BodyPartDef>
									<BodyPartDef>
										<defName>AA_SentientPlantBody</defName>
										<label>sentient plant body</label>
										<hitPoints>40</hitPoints>
										<frostbiteVulnerability>1</frostbiteVulnerability>
										<skinCovered>true</skinCovered>
										<tags>
											<li>MovingLimbCore</li>
										</tags>
									</BodyPartDef>
									<BodyPartDef>
										<defName>AA_SlugBody</defName>
										<label>slug body</label>
										<hitPoints>25</hitPoints>
										<skinCovered>true</skinCovered>
										<tags>
											<li>MovingLimbCore</li>
										</tags>
									</BodyPartDef>									
									<BodyPartDef>
										<defName>AA_InsectSting</defName>
										<label>stinger</label>
										<hitPoints>3</hitPoints>
										<skinCovered>false</skinCovered>
										<solid>true</solid>
										<bleedRate>0</bleedRate>
									</BodyPartDef>
								</value>
							</li>
						</operations>
					</nomatch>

				</li>

				<!-- Stinger -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<ThingDef ParentName="VEF_BodyPartProstheticBaseADS">
							<defName>MM_ProstheticStinger</defName>
							<label>simple prosthetic stinger</label>
							<description>Simple prosthetic stinger. Should be able to replace almost any stinger.</description>
							<techLevel>Industrial</techLevel>
							<costList>
								<Steel>20</Steel>
								<ComponentIndustrial>2</ComponentIndustrial>
							</costList>
							<statBases>
								<WorkToMake>8000</WorkToMake>
								<Mass>5</Mass>
							</statBases>
							<techHediffsTags>
								<li>Simple</li>
							</techHediffsTags>
						</ThingDef>
						<ThingDef ParentName="VEF_BodyPartBionicBaseADS">
							<defName>MM_BionicStinger</defName>
							<label>bionic stinger</label>
							<description>Improved bionic stinger for animals. Should be able to replace any type of stinger.</description>
							<techLevel>Spacer</techLevel>
							<costList>
								<Plasteel>25</Plasteel>							
								<ComponentSpacer>2</ComponentSpacer>
							</costList>
							<statBases>
								<WorkToMake>12000</WorkToMake>
								<Mass>8</Mass>
							</statBases>
							<techHediffsTags>
								<li>Advanced</li>
							</techHediffsTags>
						</ThingDef>

					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_ProstheticStinger</defName>
							<label>simple prosthetic stinger</label>
							<description>Simple prosthetic stinger. Should be able to replace any type of stinger.</description>
							<defaultLabelColor>(233,129,69)</defaultLabelColor>
							<spawnThingOnRemoved>MM_ProstheticStinger</spawnThingOnRemoved>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>0.85</partEfficiency>
								<betterThanNatural>false</betterThanNatural>
							</addedPartProps>
							<stages>
								<li>
									<statOffsets>
										<ArmorRating_Sharp>0.02</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.02</ArmorRating_Blunt>
										<ArmorRating_Heat>0.02</ArmorRating_Heat>
									</statOffsets>
								</li>			
							</stages>
						</HediffDef>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_BionicStinger</defName>
							<label>bionic stinger</label>
							<description>Improved bionic stinger for animals. Should be able to replace any type of stinger.</description>
							<spawnThingOnRemoved>MM_BionicStinger</spawnThingOnRemoved>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>1.25</partEfficiency>
							</addedPartProps>
							<stages>
								<li>
									<capMods>
										<li>
											<capacity>Manipulation</capacity>
											<offset>0.01</offset>
										</li>
									</capMods>
									<statOffsets>
										<ArmorRating_Sharp>0.03</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.03</ArmorRating_Blunt>
										<ArmorRating_Heat>0.03</ArmorRating_Heat>
									</statOffsets>
								</li>	 
							</stages>
						</HediffDef>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<RecipeDef Abstract="True" Name="MM_StingerBaseAnimal" ParentName="SurgeryFleshAnimal">
							<appliedOnFixedBodyParts>
								<li>MM_ScorpionTail</li>
							</appliedOnFixedBodyParts>
						</RecipeDef>
						<RecipeDef ParentName="MM_StingerBaseAnimal">
							<defName>MM_InstallSimpleStinger</defName>
							<label>install simple prosthetic stinger</label>
							<description>Installs simple prosthetic stinger.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing simple prosthetic stinger.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>4</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_ProstheticStinger</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_ProstheticStinger</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_ProstheticStinger</addsHediff>

						</RecipeDef>
						<RecipeDef ParentName="MM_StingerBaseAnimal">
							<defName>MM_InstallBionicStinger</defName>
							<label>install bionic stinger</label>
							<description>Installs bionic stinger.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing bionic stinger.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>8</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_BionicStinger</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_BionicStinger</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_BionicStinger</addsHediff>

						</RecipeDef>
					</value>
				</li>


				<!-- Magical Wing -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<ThingDef ParentName="VEF_BodyPartProstheticBaseADS">
							<defName>MM_ProstheticMagicalWing</defName>
							<label>simple prosthetic magical wing</label>
							<description>Simple prosthetic magical wing. Should be able to replace almost any wing in a magical creature.</description>
							<techLevel>Industrial</techLevel>
							<costList>
								<Steel>20</Steel>
								<ComponentIndustrial>2</ComponentIndustrial>
							</costList>
							<statBases>
								<WorkToMake>8000</WorkToMake>
								<Mass>5</Mass>
							</statBases>
							<techHediffsTags>
								<li>Simple</li>
							</techHediffsTags>
						</ThingDef>
						<ThingDef ParentName="VEF_BodyPartBionicBaseADS">
							<defName>MM_BionicMagicalWing</defName>
							<label>bionic magical wing</label>
							<description>Improved bionic magical wing for animals. Should be able to replace any type of wing in a magical creature.</description>
							<techLevel>Spacer</techLevel>
							<costList>
								<Plasteel>25</Plasteel>							
								<ComponentSpacer>2</ComponentSpacer>
							</costList>
							<statBases>
								<WorkToMake>12000</WorkToMake>
								<Mass>8</Mass>
							</statBases>
							<techHediffsTags>
								<li>Advanced</li>
							</techHediffsTags>
						</ThingDef>

					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_ProstheticMagicalWing</defName>
							<label>simple prosthetic stinger</label>
							<description>Simple prosthetic magical wing. Should be able to replace any type of wing in a magical creature.</description>
							<defaultLabelColor>(233,129,69)</defaultLabelColor>
							<spawnThingOnRemoved>MM_ProstheticStinger</spawnThingOnRemoved>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>0.85</partEfficiency>
								<betterThanNatural>false</betterThanNatural>
							</addedPartProps>
							<stages>
								<li>
									<statOffsets>
										<ArmorRating_Sharp>0.02</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.02</ArmorRating_Blunt>
										<ArmorRating_Heat>0.02</ArmorRating_Heat>
									</statOffsets>
								</li>			
							</stages>
						</HediffDef>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_BionicMagicalWing</defName>
							<label>bionic magical wing</label>
							<description>Improved bionic magical wing for animals. Should be able to replace any type of wing in a magical creature.</description>
							<spawnThingOnRemoved>MM_BionicStinger</spawnThingOnRemoved>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>1.25</partEfficiency>
							</addedPartProps>
							<stages>
								<li>
									<capMods>
										<li>
											<capacity>Manipulation</capacity>
											<offset>0.01</offset>
										</li>
									</capMods>
									<statOffsets>
										<ArmorRating_Sharp>0.03</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.03</ArmorRating_Blunt>
										<ArmorRating_Heat>0.03</ArmorRating_Heat>
									</statOffsets>
								</li>	 
							</stages>
						</HediffDef>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<RecipeDef Abstract="True" Name="MM_MagicalWingBaseAnimal" ParentName="SurgeryFleshAnimal">
							<appliedOnFixedBodyParts>
								<li>MM_Wing</li>
							</appliedOnFixedBodyParts>
						</RecipeDef>
						<RecipeDef ParentName="MM_MagicalWingBaseAnimal">
							<defName>MM_InstallSimpleMagicalWing</defName>
							<label>install simple prosthetic magical wing</label>
							<description>Installs simple prosthetic magical wing.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing simple prosthetic magical wing.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>4</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_ProstheticMagicalWing</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_ProstheticMagicalWing</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_ProstheticMagicalWing</addsHediff>

						</RecipeDef>
						<RecipeDef ParentName="MM_MagicalWingBaseAnimal">
							<defName>MM_InstallBionicMagicalWing</defName>
							<label>install bionic magical wing</label>
							<description>Installs bionic magical wing.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing bionic magical wing.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>8</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_BionicMagicalWing</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_BionicMagicalWing</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_BionicMagicalWing</addsHediff>

						</RecipeDef>
					</value>
				</li>

				<!-- Horns -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<ThingDef ParentName="VEF_BodyPartProstheticBaseADS">
							<defName>MM_ProstheticHorns</defName>
							<label>simple prosthetic horns</label>
							<description>Simple prosthetic horns. Should be able to replace almost any horns or antlers.</description>
							<techLevel>Industrial</techLevel>
							<costList>
								<Steel>20</Steel>
								<ComponentIndustrial>2</ComponentIndustrial>
							</costList>
							<statBases>
								<WorkToMake>8000</WorkToMake>
								<Mass>5</Mass>
							</statBases>
							<techHediffsTags>
								<li>Simple</li>
							</techHediffsTags>
						</ThingDef>
						<ThingDef ParentName="VEF_BodyPartBionicBaseADS">
							<defName>MM_BionicHorns</defName>
							<label>bionic horns</label>
							<description>Improved bionic horns for animals. Should be able to replace any type of horns or antlers.</description>
							<techLevel>Spacer</techLevel>
							<costList>
								<Plasteel>25</Plasteel>							
								<ComponentSpacer>2</ComponentSpacer>
							</costList>
							<statBases>
								<WorkToMake>12000</WorkToMake>
								<Mass>8</Mass>
							</statBases>
							<techHediffsTags>
								<li>Advanced</li>
							</techHediffsTags>
						</ThingDef>

					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_ProstheticHorns</defName>
							<label>simple prosthetic horns</label>
							<description>Simple prosthetic horns. Should be able to replace any type of horns or antlers.</description>
							<defaultLabelColor>(233,129,69)</defaultLabelColor>
							<spawnThingOnRemoved>MM_ProstheticHorns</spawnThingOnRemoved>
							<comps>
								<li Class="HediffCompProperties_VerbGiver">
									<tools>
										<li>
											<label>prosthetic horns</label>
											<capacities>
												<li>Scratch</li>
											</capacities>
											<power>8</power>
											<cooldownTime>1.8</cooldownTime>
											<alwaysTreatAsWeapon>false</alwaysTreatAsWeapon>
										</li>
									</tools>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>0.85</partEfficiency>
								<betterThanNatural>false</betterThanNatural>
							</addedPartProps>
							<stages>
								<li>
									<statOffsets>
										<ArmorRating_Sharp>0.02</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.02</ArmorRating_Blunt>
										<ArmorRating_Heat>0.02</ArmorRating_Heat>
									</statOffsets>
								</li>			
							</stages>
						</HediffDef>
						<HediffDef ParentName="addedPartAnimal">
							<defName>MM_BionicHorns</defName>
							<label>bionic horns</label>
							<description>Improved bionic horns for animals. Should be able to replace any type of horns or antlers.</description>
							<spawnThingOnRemoved>MM_BionicHorns</spawnThingOnRemoved>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>1.25</partEfficiency>
							</addedPartProps>
							<comps>
								<li Class="HediffCompProperties_VerbGiver">
									<tools>
										<li>
											<label>bionic horns</label>
											<capacities>
												<li>Scratch</li>
											</capacities>
											<power>20</power>
											<cooldownTime>1.4</cooldownTime>
											<alwaysTreatAsWeapon>false</alwaysTreatAsWeapon>
										</li>
									</tools>
								</li>
							</comps>
							<stages>
								<li>
									<capMods>
										<li>
											<capacity>Manipulation</capacity>
											<offset>0.025</offset>
										</li>
									</capMods>
									<statOffsets>
										<ArmorRating_Sharp>0.03</ArmorRating_Sharp>
										<ArmorRating_Blunt>0.03</ArmorRating_Blunt>
										<ArmorRating_Heat>0.03</ArmorRating_Heat>
									</statOffsets>
								</li>	 
							</stages>
						</HediffDef>
					</value>
				</li>

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<RecipeDef Abstract="True" Name="MM_HornsBaseAnimal" ParentName="SurgeryFleshAnimal">
							<appliedOnFixedBodyParts>
								<li>MM_Antlers</li>
								<li>MM_Horns</li>
							</appliedOnFixedBodyParts>
						</RecipeDef>
						<RecipeDef ParentName="MM_HornsBaseAnimal">
							<defName>MM_InstallSimpleHorns</defName>
							<label>install simple prosthetic horns</label>
							<description>Installs simple prosthetic horns.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing simple prosthetic horns.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>4</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_ProstheticHorns</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_ProstheticHorns</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_ProstheticHorns</addsHediff>

						</RecipeDef>
						<RecipeDef ParentName="MM_HornsBaseAnimal">
							<defName>MM_InstallBionicHorns</defName>
							<label>install bionic horns</label>
							<description>Installs bionic horns.</description>
							<workerClass>Recipe_InstallArtificialBodyPart</workerClass>
							<jobString>Installing bionic horns.</jobString>
							<workAmount>2000</workAmount>
							<skillRequirements>
								<Medicine>8</Medicine>
							</skillRequirements>
							<ingredients>
								<li>
									<filter>
										<categories>
											<li>Medicine</li>
										</categories>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>MM_BionicHorns</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<categories>
									<li>Medicine</li>
								</categories>
								<thingDefs>
									<li>MM_BionicHorns</li>
								</thingDefs>
							</fixedIngredientFilter>
							<addsHediff>MM_BionicHorns</addsHediff>

						</RecipeDef>
					</value>
				</li>


				<!-- Petrifying Gaze -->


				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_PetrifyingGazeImplant</defName>
							<label>petrifying gaze implant</label>
							<labelNoun>a petrifying gaze implant</labelNoun>
							<description>An installed petrifying gaze implant. This implant will allow this creature to use a very dangerous petrifying gaze that will slow down its target, and eventually kill it.\n\nNote that installing this on a creature that already has a petrifying attack will have no effect. And obviously a creature will need eyes to use this attack.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_PetrifyingGazeImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_PetrifyingGazeImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li>
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>1</accuracyTouch>
											<accuracyShort>1</accuracyShort>
											<accuracyMedium>1</accuracyMedium>
											<accuracyLong>1</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_CenteredGazeAttack</defaultProjectile>
											<warmupTime>1</warmupTime>				
											<burstShotCount>1</burstShotCount>
											<minRange>1</minRange>
											<range>20</range>
											<label>petrifying gaze</label>	
											<muzzleFlashScale>0</muzzleFlashScale>				
											<commonality>1</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>petrifying gaze</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>0.75</partEfficiency>
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_PetrifyingGazeImplant</defName>
							<label>petrifying gaze implant</label>
							<description>A petrifying gaze implant. This implant will allow this creature to use a very dangerous petrifying gaze that will slow down its target, and eventually kill it.\n\nNote that installing this on a creature that already has a petrifying attack will have no effect. And obviously a creature will need eyes to use this attack.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallPetrifyingGazeImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallPetrifyingGazeImplant</defName>
							<label>install petrifying gaze implant</label>
							<description>Install a petrifying gaze implant. This implant will allow this creature to use a very dangerous petrifying gaze that will slow down its target, and eventually kill it.\n\nNote that installing this on a creature that already has a petrifying attack will have no effect. And obviously a creature will need eyes to use this attack.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_PetrifyingGazeImplant</ThingDef>
								<HediffDef>MM_PetrifyingGazeImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing petrifying gaze implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_PetrifyingGazeImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_PetrifyingGazeImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Eye</li>								
							</appliedOnFixedBodyParts>
							<addsHediff>MM_PetrifyingGazeImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakePetrifyingGazeImplant</defName>
							<label>make a petrifying gaze implant</label>
							<description>Make a petrifying gaze implant from a Catoblepas or a Basilisk corpse. This implant will allow this creature to use a very dangerous petrifying gaze that will slow down its target, and eventually kill it.\n\nNote that installing this on a creature that already has a petrifying attack will have no effect. And obviously a creature will need eyes to use this attack.</description>
							<jobString>Making petrifying gaze implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_Catoblepas</li>
											<li>Corpse_MM_Basilisk</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Catoblepas</li>
									<li>Corpse_MM_Basilisk</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Catoblepas</li>
									<li>Corpse_MM_Basilisk</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_PetrifyingGazeImplant>1</MM_PetrifyingGazeImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemovePetrifyingGazeImplant</defName>
							<label>remove petrifying gaze implant</label>
							<description>Remove petrifying gaze implant. This will remove the petrifying gaze attack.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_PetrifyingGazeImplant</ThingDef>
								<HediffDef>MM_PetrifyingGazeImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing petrifying gaze implant.</jobString>
							<removesHediff>MM_PetrifyingGazeImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>

				<!-- Venomous Quill -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_VenomousQuillImplant</defName>
							<label>venomous quill implant</label>
							<labelNoun>a venomous quill implant</labelNoun>
							<description>An installed venomous quill implant. This implant will allow this creature to use a ranged venomous quill attack.\n\nNote that installing this on a creature that already has a venomous quill will have no effect. This implant can only be installed in creatures that have a tail.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_VenomousQuillImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_VenomousQuillImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li>
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>1</accuracyTouch>
											<accuracyShort>1</accuracyShort>
											<accuracyMedium>0.9</accuracyMedium>
											<accuracyLong>0.7</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_Quill</defaultProjectile>
											<warmupTime>1.5</warmupTime>
											<burstShotCount>1</burstShotCount>
											<minRange>2</minRange>
											<range>18</range>
											<label>venomous quills</label>
											<soundCast>MM_QuillSound</soundCast>
											<muzzleFlashScale>0</muzzleFlashScale>
											<commonality>1</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>venomous quills</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>
								<partEfficiency>0.75</partEfficiency>
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_VenomousQuillImplant</defName>
							<label>venomous quill implant</label>							
							<description>An installed venomous quill implant. This implant will allow this creature to use a ranged venomous quill attack.\n\nNote that installing this on a creature that already has a venomous quill will have no effect. This implant can only be installed in creatures that have a tail.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallVenomousQuillImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallVenomousQuillImplant</defName>
							<label>install venomous quill implant</label>
							<description>Install a venomous quill implant. This implant will allow this creature to use a ranged venomous quill attack.\n\nNote that installing this on a creature that already has a venomous quill will have no effect. This implant can only be installed in creatures that have a tail.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_VenomousQuillImplant</ThingDef>
								<HediffDef>MM_VenomousQuillImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing venomous quill implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_VenomousQuillImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_VenomousQuillImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Tail</li>
								<li>AA_InsectSting</li>
								<!--	<li>Body</li>
								<li>MM_PlasmaMembrane</li>
								<li>SnakeBody</li>
								<li>AA_JellyfishMainBody</li>
								<li>AA_Protoplasm</li>
								<li>AA_Thorax</li>
								<li>AA_SentientPlantBody</li>
								<li>AA_SlugBody</li>-->
							</appliedOnFixedBodyParts>
							<addsHediff>MM_VenomousQuillImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakeVenomousQuillImplant</defName>
							<label>make a venomous quill implant</label>
							<description>Make a venomous quill implant from a Manticore corpse. This implant will allow this creature to use a ranged venomous quill attack.\n\nNote that installing this on a creature that already has a venomous quill will have no effect. This implant can only be installed in creatures that have a tail.</description>
							<jobString>Making venomous quill implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_Manticore</li>

										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Manticore</li>									
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Manticore</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_VenomousQuillImplant>1</MM_VenomousQuillImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemoveVenomousQuillImplant</defName>
							<label>remove venomous quill implant</label>
							<description>Remove venomous quill implant.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_VenomousQuillImplant</ThingDef>
								<HediffDef>MM_VenomousQuillImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing venomous quill implant.</jobString>
							<removesHediff>MM_VenomousQuillImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>

				<!-- Wisp Fire -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_WispFireImplant</defName>
							<label>wisp fire implant</label>
							<labelNoun>a wisp fire implant</labelNoun>
							<description>An installed wisp fire implant. This implant will allow this creature to use a ranged fire attack.\n\nNote that installing this on a creature that already has a wisp fire will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_WispFireImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_WispFireImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li> 
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>0.15</accuracyTouch>
											<accuracyShort>0.25</accuracyShort>
											<accuracyMedium>0.15</accuracyMedium>
											<accuracyLong>0.1</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_WispProjectile</defaultProjectile>
											<warmupTime>2</warmupTime>
											<ticksBetweenBurstShots>2</ticksBetweenBurstShots>
											<burstShotCount>50</burstShotCount>
											<minRange>1</minRange>
											<range>15</range>
											<soundCast>MM_PoisonBreathSound</soundCast>
											<muzzleFlashScale>0</muzzleFlashScale>
											<label>wisp breath</label>
											<commonality>1</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>wisp breath</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>								
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_WispFireImplant</defName>
							<label>wisp fire implant</label>							
							<description>An installed wisp fire implant. This implant will allow this creature to use a ranged fire attack.\n\nNote that installing this on a creature that already has a wisp fire will have no effect.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallWispFireImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallWispFireImplant</defName>
							<label>install wisp fire implant</label>
							<description>Install a wisp fire implant. This implant will allow this creature to use a ranged fire attack.\n\nNote that installing this on a creature that already has a wisp fire will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_WispFireImplant</ThingDef>
								<HediffDef>MM_WispFireImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing wisp fire implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_WispFireImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_WispFireImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Body</li>								
								<li>SnakeBody</li>
								<li>AA_JellyfishMainBody</li>
								<li>AA_Protoplasm</li>
								<li>AA_Thorax</li>
								<li>AA_SentientPlantBody</li>
								<li>AA_SlugBody</li>
							</appliedOnFixedBodyParts>
							<addsHediff>MM_WispFireImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakeWispFireImplant</defName>
							<label>make a wisp fire implant</label>
							<description>Make a wisp fire implant from a Will O' Wisp corpse. This implant will allow this creature to use a ranged fire attack.\n\nNote that installing this on a creature that already has a wisp fire will have no effect.</description>
							<jobString>Making wisp fire implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_WillOWisp</li>

										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_WillOWisp</li>									
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_WillOWisp</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_WispFireImplant>1</MM_WispFireImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemoveWispFireImplant</defName>
							<label>remove wisp fire implant</label>
							<description>Remove wisp fire implant.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_WispFireImplant</ThingDef>
								<HediffDef>MM_WispFireImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing wisp fire implant.</jobString>
							<removesHediff>MM_WispFireImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>

				<!-- Acidic Breath -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_AcidicBreathImplant</defName>
							<label>acidic breath implant</label>
							<labelNoun>an acidic breath implant</labelNoun>
							<description>An installed acidic breath implant. This implant will allow this creature to use a ranged acidic breath attack that causes damage over time.\n\nNote that installing this on a creature that already has an acidic breath will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_AcidicBreathImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_AcidicBreathImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li>
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>0.15</accuracyTouch>
											<accuracyShort>0.25</accuracyShort>
											<accuracyMedium>0.15</accuracyMedium>
											<accuracyLong>0.1</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_AcidicBreath</defaultProjectile>
											<warmupTime>0.3</warmupTime>
											<ticksBetweenBurstShots>2</ticksBetweenBurstShots>
											<label>acidic breath</label>
											<burstShotCount>80</burstShotCount>
											<minRange>1</minRange>
											<range>15</range>
											<soundCast>MM_PoisonBreathSound</soundCast>
											<muzzleFlashScale>0</muzzleFlashScale>				
											<commonality>0.8</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>acidic breath</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>								
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_AcidicBreathImplant</defName>
							<label>acidic breath implant</label>							
							<description>An installed acidic breath implant. This implant will allow this creature to use a ranged acidic breath attack that causes damage over time.\n\nNote that installing this on a creature that already has an acidic breath will have no effect.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallAcidicBreathImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallAcidicBreathImplant</defName>
							<label>install acidic breath implant</label>
							<description>Install an acidic breath implant. This implant will allow this creature to use a ranged acidic breath attack that causes damage over time.\n\nNote that installing this on a creature that already has an acidic breath will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_AcidicBreathImplant</ThingDef>
								<HediffDef>MM_AcidicBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing acidic breath implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_AcidicBreathImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_AcidicBreathImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Body</li>								
								<li>SnakeBody</li>
								<li>AA_JellyfishMainBody</li>
								<li>AA_Protoplasm</li>
								<li>AA_Thorax</li>
								<li>AA_SentientPlantBody</li>
								<li>AA_SlugBody</li>
							</appliedOnFixedBodyParts>
							<addsHediff>MM_AcidicBreathImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakeAcidicBreathImplant</defName>
							<label>make an acidic breath implant</label>
							<description>Make an acidic breath implant from a Lernaean Hydra corpse. This implant will allow this creature to use a ranged acidic breath attack that causes damage over time.\n\nNote that installing this on a creature that already has an acidic breath will have no effect.</description>
							<jobString>Making acidic breath implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_LernaeanHydra</li>

										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_LernaeanHydra</li>									
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_LernaeanHydra</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_AcidicBreathImplant>1</MM_AcidicBreathImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemoveAcidicBreathImplant</defName>
							<label>remove acidic breath implant</label>
							<description>Remove acidic breath implant.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_AcidicBreathImplant</ThingDef>
								<HediffDef>MM_AcidicBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing acidic breath implant.</jobString>
							<removesHediff>MM_AcidicBreathImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>

				<!-- Fire Breath -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_FireBreathImplant</defName>
							<label>fire breath implant</label>
							<labelNoun>a fire breath implant</labelNoun>
							<description>An installed fire breath implant. This implant will allow this creature to use a ranged fire breath attack that lights enemies on fire.\n\nNote that installing this on a creature that already has a fire breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_FireBreathImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_FireBreathImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li>
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>1</accuracyTouch>
											<accuracyShort>1</accuracyShort>
											<accuracyMedium>1</accuracyMedium>
											<accuracyLong>1</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_FlameBreathAnimated</defaultProjectile>
											<warmupTime>1.5</warmupTime>
											<burstShotCount>1</burstShotCount>
											<minRange>1</minRange>
											<range>8</range>	
											<label>fire breath</label>	  				
											<soundCast>MM_PoisonBreathSound</soundCast>
											<muzzleFlashScale>0</muzzleFlashScale>
											<commonality>1</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>fire breath</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>								
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_FireBreathImplant</defName>
							<label>fire breath implant</label>							
							<description>An installed fire breath implant. This implant will allow this creature to use a ranged fire breath attack that lights enemies on fire.\n\nNote that installing this on a creature that already has a fire breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallFireBreathImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallFireBreathImplant</defName>
							<label>install fire breath implant</label>
							<description>Install a fire breath implant. This implant will allow this creature to use a ranged fire breath attack that lights enemies on fire.\n\nNote that installing this on a creature that already has a fire breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_FireBreathImplant</ThingDef>
								<HediffDef>MM_FireBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing fire breath implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_FireBreathImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_FireBreathImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Body</li>								
								<li>SnakeBody</li>
								<li>AA_JellyfishMainBody</li>
								<li>AA_Protoplasm</li>
								<li>AA_Thorax</li>
								<li>AA_SentientPlantBody</li>
								<li>AA_SlugBody</li>
							</appliedOnFixedBodyParts>
							<addsHediff>MM_FireBreathImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakeFireBreathImplant</defName>
							<label>make a fire breath implant</label>
							<description>Make a fire breath implant from a Chimera or Ieltxu corpse. This implant will allow this creature to use a ranged fire breath attack that lights enemies on fire.\n\nNote that installing this on a creature that already has a fire breath of this kind will have no effect.</description>
							<jobString>Making fire breath implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_Ieltxu</li>
											<li>Corpse_MM_Chimera</li>

										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Ieltxu</li>
									<li>Corpse_MM_Chimera</li>								
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Ieltxu</li>
									<li>Corpse_MM_Chimera</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_FireBreathImplant>1</MM_FireBreathImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemoveFireBreathImplant</defName>
							<label>remove fire breath implant</label>
							<description>Remove fire breath implant.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_FireBreathImplant</ThingDef>
								<HediffDef>MM_FireBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing fire breath implant.</jobString>
							<removesHediff>MM_FireBreathImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>

				<!-- Toxic Breath -->

				<li Class="PatchOperationAdd">
					<xpath>/Defs</xpath>
					<value>
						<HediffDef ParentName="ImplantHediffBase">
							<defName>MM_ToxicBreathImplant</defName>
							<label>toxic breath implant</label>
							<labelNoun>a toxic breath implant</labelNoun>
							<description>An installed toxic breath implant. This implant will allow this creature to use a ranged toxic breath attack that causes toxic buildup in its targer.\n\nNote that installing this on a creature that already has a toxic breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_ToxicBreathImplant</ThingDef>
							</descriptionHyperlinks>
							<spawnThingOnRemoved>MM_ToxicBreathImplant</spawnThingOnRemoved>
							<comps>
								<li Class="MVCF.Comps.HediffCompProperties_ExtendedVerbGiver">
									<verbs>
										<li>
											<verbClass>Verb_Shoot</verbClass>
											<accuracyTouch>1</accuracyTouch>
											<accuracyShort>1</accuracyShort>
											<accuracyMedium>1</accuracyMedium>
											<accuracyLong>1</accuracyLong>
											<hasStandardCommand>true</hasStandardCommand>
											<defaultProjectile>MM_GreenStreamBreath</defaultProjectile>
											<warmupTime>1.5</warmupTime>
											<burstShotCount>1</burstShotCount>
											<minRange>1</minRange>
											<range>8</range>				
											<soundCast>MM_PoisonBreathSound</soundCast>
											<muzzleFlashScale>0</muzzleFlashScale>
											<label>toxic breath</label>
											<commonality>1</commonality>
										</li>
									</verbs>
									<verbProps>
										<li>
											<label>toxic breath</label>
											<draw>false</draw>
											<canBeToggled>true</canBeToggled>											
											<canFireIndependently>false</canFireIndependently>
										</li>
									</verbProps>
								</li>
							</comps>
							<addedPartProps>
								<solid>true</solid>								
								<betterThanNatural>true</betterThanNatural>
							</addedPartProps>
						</HediffDef>

						<ThingDef ParentName="VEF_AdvancedBaseADS">
							<defName>MM_ToxicBreathImplant</defName>
							<label>toxic breath implant</label>							
							<description>An installed toxic breath implant. This implant will allow this creature to use a ranged toxic breath attack that causes toxic buildup in its targer.\n\nNote that installing this on a creature that already has a toxic breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<RecipeDef>MM_InstallToxicBreathImplant</RecipeDef>
							</descriptionHyperlinks>
							<statBases>
								<MarketValue>800</MarketValue>
								<Mass>2</Mass>
							</statBases>

						</ThingDef>

						<RecipeDef ParentName="VEF_AdvancedSurgeryInstallImplantBase">
							<defName>MM_InstallToxicBreathImplant</defName>
							<label>install toxic breath implant</label>
							<description>Install a toxic breath implant. This implant will allow this creature to use a ranged toxic breath attack that causes toxic buildup in its targer.\n\nNote that installing this on a creature that already has a toxic breath of this kind will have no effect.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_ToxicBreathImplant</ThingDef>
								<HediffDef>MM_ToxicBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Installing toxic breath implant.</jobString>
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>MM_ToxicBreathImplant</li>
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>MM_ToxicBreathImplant</li>
								</thingDefs>
							</fixedIngredientFilter>
							<appliedOnFixedBodyParts>
								<li>Body</li>								
								<li>SnakeBody</li>
								<li>AA_JellyfishMainBody</li>
								<li>AA_Protoplasm</li>
								<li>AA_Thorax</li>
								<li>AA_SentientPlantBody</li>
								<li>AA_SlugBody</li>
							</appliedOnFixedBodyParts>
							<addsHediff>MM_ToxicBreathImplant</addsHediff>
						</RecipeDef>

						<RecipeDef>
							<defName>MM_MakeToxicBreathImplant</defName>
							<label>make a toxic breath implant</label>
							<description>Make a toxic breath implant from a Tlilcoatl corpse. This implant will allow this creature to use a ranged toxic breath attack that causes toxic buildup in its targer.\n\nNote that installing this on a creature that already has a toxic breath of this kind will have no effect.</description>
							<jobString>Making toxic breath implant</jobString>							
							<workAmount>15000</workAmount>		
							<recipeUsers>
								<li>VEF_AdvancedAnimalImplantsTable</li>
							</recipeUsers>		
							<workSpeedStat>GeneralLaborSpeed</workSpeedStat>
							<workSkill>Crafting</workSkill>
							<effectWorking>Smith</effectWorking>
							<soundWorking>Recipe_Smith</soundWorking>
							<skillRequirements>
								<Crafting>10</Crafting>
							</skillRequirements>
							<unfinishedThingDef>UnfinishedAnimalPart</unfinishedThingDef>
							<researchPrerequisite>VEF_AdvancedAnimalImplants</researchPrerequisite>							
							<ingredients>
								<li>
									<filter>
										<thingDefs>
											<li>Corpse_MM_Tlilcoatl</li>											
										</thingDefs>
									</filter>
									<count>1</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>Plasteel</li>											
										</thingDefs>
									</filter>
									<count>50</count>
								</li>
								<li>
									<filter>
										<thingDefs>
											<li>ComponentSpacer</li>										
										</thingDefs>
									</filter>
									<count>5</count>
								</li>
							</ingredients>
							<fixedIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Tlilcoatl</li>								
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</fixedIngredientFilter>
							<defaultIngredientFilter>
								<thingDefs>
									<li>Corpse_MM_Tlilcoatl</li>
									<li>Plasteel</li>
									<li>ComponentSpacer</li>
								</thingDefs>
							</defaultIngredientFilter>
							<products>
								<MM_ToxicBreathImplant>1</MM_ToxicBreathImplant>
							</products>
						</RecipeDef>

						<RecipeDef ParentName="SurgeryRemoveImplantBase">
							<defName>MM_RemoveToxicBreathImplant</defName>
							<label>remove toxic breath implant</label>
							<description>Remove toxic breath implant.</description>
							<descriptionHyperlinks>
								<ThingDef>MM_ToxicBreathImplant</ThingDef>
								<HediffDef>MM_ToxicBreathImplant</HediffDef>
							</descriptionHyperlinks>
							<jobString>Removing toxic breath implant.</jobString>
							<removesHediff>MM_ToxicBreathImplant</removesHediff>
						</RecipeDef>
					</value>
				</li>


				<!-- Final patch to vanilla to ensure these operations appear in all animals when they should -->

				<li Class="PatchOperationAdd"> 
					<xpath>/Defs/ThingDef[@Name="AnimalThingBase"]/recipes</xpath>
					<value>
						<li>MM_InstallSimpleStinger</li>
						<li>MM_InstallBionicStinger</li>
						<li>MM_InstallSimpleMagicalWing</li>
						<li>MM_InstallBionicMagicalWing</li>
						<li>MM_InstallSimpleHorns</li>
						<li>MM_InstallBionicHorns</li>
						<li>MM_InstallPetrifyingGazeImplant</li>
						<li>MM_RemovePetrifyingGazeImplant</li>
						<li>MM_InstallVenomousQuillImplant</li>
						<li>MM_RemoveVenomousQuillImplant</li>
						<li>MM_InstallWispFireImplant</li>
						<li>MM_RemoveWispFireImplant</li>
						<li>MM_InstallAcidicBreathImplant</li>
						<li>MM_RemoveAcidicBreathImplant</li>
						<li>MM_InstallFireBreathImplant</li>
						<li>MM_RemoveFireBreathImplant</li>
						<li>MM_InstallToxicBreathImplant</li>
						<li>MM_RemoveToxicBreathImplant</li>

					</value>
				</li>








			</operations>
		</match>
	</Operation>


</Patch>

